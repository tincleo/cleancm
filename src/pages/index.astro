---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import Testimonial from '../components/Testimonial.astro';

const services = [
  {
    title: "Furniture Cleaning",
    body: "Upholstery and leather cleaning, including repair and restoration.",
    href: "/services/furniture-cleaning",
    image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
  },
  {
    title: "Carpet and Rug Cleaning",
    body: "Professional cleaning for all types of carpets and rugs.",
    href: "/services/carpet-rug-cleaning",
    image: "https://images.unsplash.com/photo-1558317374-067fb5f30001?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
  },
  {
    title: "Car Interior Deep Cleaning",
    body: "Thorough cleaning and detailing for your vehicle's interior.",
    href: "/services/car-interior-cleaning",
    image: "https://images.unsplash.com/photo-1607860108855-64acf2078ed9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"
  },
  {
    title: "Mattress Cleaning",
    body: "Deep cleaning and sanitization for a healthier sleep environment.",
    href: "/services/mattress-cleaning",
    image: "https://images.unsplash.com/photo-1631049307264-da0ec9d70304?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
  },
  {
    title: "Office Cleaning",
    body: "Comprehensive cleaning solutions for your workplace.",
    href: "/services/office-cleaning",
    image: "https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2069&q=80"
  },
  {
    title: "Residential Deep Cleaning",
    body: "Thorough cleaning for every corner of your home.",
    href: "/services/residential-deep-cleaning",
    image: "https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
  }
];

const testimonials = [
  {
    name: "Sarah Johnson",
    rating: 5,
    location: "Yaound√©, Cameroon",
    message: "Alpha Cleaning transformed my home! Their attention to detail is impressive, and my furniture looks brand new."
  },
  {
    name: "Emmanuel Nkodo",
    rating: 4,
    location: "Douala, Cameroon",
    message: "Great service for office cleaning. Our workspace feels more professional and welcoming now."
  },
  {
    name: "Marie Tchuente",
    rating: 5,
    location: "Bafoussam, Cameroon",
    message: "I was amazed at how they cleaned my carpets. Stains I thought were permanent are gone!"
  },
  {
    name: "Jean-Pierre Fouda",
    rating: 5,
    location: "Kribi, Cameroon",
    message: "Excellent mattress cleaning service. I can breathe easier at night now. Highly recommended!"
  },
  {
    name: "Ange Kouam",
    rating: 4,
    location: "Dschang, Cameroon",
    message: "The team was professional and efficient. My car interior has never looked better!"
  },
  {
    name: "Paul Biya",
    rating: 5,
    location: "Ebolowa, Cameroon",
    message: "Alpha Cleaning's residential deep cleaning service exceeded my expectations. Every corner sparkles!"
  }
];

const galleryImages = [
  {
    image: "https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80",
    description: "Living Room Cleaning"
  },
  {
    image: "https://images.unsplash.com/photo-1558317374-067fb5f30001?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80",
    description: "Carpet Cleaning"
  },
  {
    image: "https://images.unsplash.com/photo-1556911220-bff31c812dba?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1768&q=80",
    description: "Kitchen Cleaning"
  },
  {
    image: "https://images.unsplash.com/photo-1595846519845-68e298c2edd8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80",
    description: "Bathroom Cleaning"
  },
  {
    image: "https://images.unsplash.com/photo-1527515637462-cff94eecc1ac?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1774&q=80",
    description: "Office Cleaning"
  }
];
---

<Layout title="Alpha Cleaning - Professional Cleaning Services">
	<main>
		<section class="hero">
			<div class="hero-content">
				<h1>Welcome to <span class="text-gradient">Alpha Cleaning</span></h1>
				<p class="tagline">
					Professional cleaning services for your home and office
				</p>
				<a href="/contact" class="cta-button">Contact Us</a>
			</div>
		</section>
		<section class="services">
			<h2>Our Services</h2>
			<ul role="list" class="link-card-grid">
				{services.map((service) => (
					<Card
						href={service.href}
						title={service.title}
						body={service.body}
						image={service.image}
					/>
				))}
			</ul>
		</section>
		<section class="reviews">
			<h2>Customer Reviews</h2>
			<div class="glide">
				<div class="glide__track" data-glide-el="track">
					<ul class="glide__slides">
						{testimonials.map((testimonial) => (
							<li class="glide__slide">
								<Testimonial
									name={testimonial.name}
									rating={testimonial.rating}
									location={testimonial.location}
									message={testimonial.message}
								/>
							</li>
						))}
					</ul>
				</div>
				<div class="glide__arrows" data-glide-el="controls">
					<button class="glide__arrow glide__arrow--left" data-glide-dir="<">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
					</button>
					<button class="glide__arrow glide__arrow--right" data-glide-dir=">">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
					</button>
				</div>
			</div>
			<div class="glide__bullets" data-glide-el="controls[nav]">
				{testimonials.map((_, index) => (
					<button class="glide__bullet" data-glide-dir={`=${index}`}></button>
				))}
			</div>
		</section>
		<section class="gallery">
			<h2>Our Work</h2>
			<p class="gallery-intro">Explore our portfolio of pristine spaces and satisfied customers.</p>
			<div class="gallery-grid" id="lightgallery">
				{galleryImages.map((image, index) => (
					<a href={image.image} class="gallery-item" data-lg-size="1600-1067">
						<img src={image.image} alt={image.description} />
					</a>
				))}
			</div>
		</section>
		<section class="callout">
			<div class="callout-content">
				<h2>Ready for a Cleaner Space?</h2>
				<p>Contact us today for a free quote and experience the Alpha Cleaning difference!</p>
				<a href="/contact" class="cta-button">Get a Free Quote</a>
			</div>
		</section>
	</main>
</Layout>

<script>
  import Glide from '@glidejs/glide';
  import lightGallery from 'lightgallery';
  import lgZoom from 'lightgallery/plugins/zoom';
  import lgThumbnail from 'lightgallery/plugins/thumbnail';

  // Glide initialization
  new Glide('.glide', {
    type: 'carousel',
    perView: 3,
    autoplay: 5000,
    hoverpause: true,
    breakpoints: {
      1024: {
        perView: 2
      },
      768: {
        perView: 1
      }
    }
  }).mount();

  // LightGallery initialization
  lightGallery(document.getElementById('lightgallery'), {
    plugins: [lgZoom, lgThumbnail],
    speed: 500,
    licenseKey: 'your-license-key', // Replace with your license key or remove this line for non-commercial use
  });

  // Add touch scrolling for mobile gallery
  const galleryGrid = document.querySelector('.gallery-grid');
  let isScrolling = false;
  let startX;
  let scrollLeft;

  galleryGrid.addEventListener('touchstart', (e) => {
    isScrolling = true;
    startX = e.touches[0].pageX - galleryGrid.offsetLeft;
    scrollLeft = galleryGrid.scrollLeft;
  });

  galleryGrid.addEventListener('touchmove', (e) => {
    if (!isScrolling) return;
    e.preventDefault();
    const x = e.touches[0].pageX - galleryGrid.offsetLeft;
    const walk = (x - startX) * 2;
    galleryGrid.scrollLeft = scrollLeft - walk;
  });

  galleryGrid.addEventListener('touchend', () => {
    isScrolling = false;
  });
</script>

<style>
	main {
		margin: auto;
		width: 100%;
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}
	.hero {
		background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80');
		background-size: cover;
		background-position: center;
		height: 60vh;
		display: flex;
		align-items: center;
		justify-content: center;
	}
	.hero-content {
		text-align: center;
		max-width: 800px;
		margin: 0 auto;
		padding: 0 1rem;
	}
	h1 {
		font-size: 3rem;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin-bottom: 0.5em;
		color: white; /* Changed to pure white */
	}
	.text-gradient {
		background-image: none; /* Removed gradient */
		-webkit-background-clip: initial;
		-webkit-text-fill-color: initial;
		color: white; /* Set to pure white */
	}
	.tagline {
		text-align: center;
		margin-bottom: 1.5rem;
		font-size: 1.2rem; /* Reduced from 1.5rem */
		color: white;
	}
	.cta-button {
		display: inline-block;
		background-color: rgb(var(--accent));
		color: white;
		padding: 0.8em 1.5em;
		border-radius: 0.25em;
		text-decoration: none;
		font-weight: bold;
		font-size: 1.1rem;
		transition: background-color 0.3s ease;
	}
	.cta-button:hover {
		background-color: rgb(var(--accent-light));
	}
	.services {
		max-width: 1200px;
		margin: 0 auto;
		padding: 2rem 1rem;
	}
	.services h2 {
		font-size: 2.5rem;
		font-weight: 700;
		margin-bottom: 1.5rem;
		text-align: center;
	}
	.link-card-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 2rem;
		padding: 0;
	}
	.callout {
		background-image: url('https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		padding: 4rem 1rem;
		text-align: center;
		color: white;
		position: relative;
	}
	.callout::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: rgba(102, 51, 153, 0.7); /* Purple overlay with 70% opacity */
		z-index: 1;
	}
	.callout-content {
		position: relative;
		z-index: 2;
		max-width: 800px;
		margin: 0 auto;
	}
	.callout h2 {
		font-size: 2.5rem;
		margin-bottom: 1rem;
	}
	.callout p {
		font-size: 1.2rem;
		margin-bottom: 2rem;
	}
	.cta-button {
		display: inline-block;
		background-color: white;
		color: #663399;
		padding: 0.8rem 1.5rem;
		border-radius: 5px;
		text-decoration: none;
		font-weight: bold;
		transition: background-color 0.3s ease, color 0.3s ease;
	}
	.cta-button:hover {
		background-color: #663399;
		color: white;
	}
	.reviews {
		max-width: 1200px;
		margin: 0 auto;
		padding: 2rem 1rem;
		position: relative;
	}
	.reviews h2 {
		font-size: 2.5rem;
		font-weight: 700;
		margin-bottom: 1.5rem;
		text-align: center;
		color: rgb(var(--accent-light));
	}
	.glide__slide {
		height: auto;
		padding: 0 10px;
	}
	.glide__arrows {
		position: absolute;
		top: 50%;
		left: -30px;
		right: -30px;
		transform: translateY(-50%);
	}
	.glide__arrow {
		position: absolute;
		background-color: rgba(102, 51, 153, 0.7);
		border: none;
		border-radius: 50%;
		width: 40px;
		height: 40px;
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
		cursor: pointer;
		transition: background-color 0.3s ease;
	}
	.glide__arrow:hover {
		background-color: rgba(102, 51, 153, 1);
	}
	.glide__arrow--left {
		left: 0;
	}
	.glide__arrow--right {
		right: 0;
	}
	.glide__bullets {
		display: flex;
		justify-content: center;
		margin-top: 1rem;
	}
	.glide__bullet {
		background-color: rgba(102, 51, 153, 0.3);
		border: none;
		width: 10px;
		height: 10px;
		border-radius: 50%;
		margin: 0 0.5rem;
		cursor: pointer;
		transition: background-color 0.3s ease;
	}
	.glide__bullet--active {
		background-color: rgba(102, 51, 153, 1);
	}
	.gallery {
		max-width: 1200px;
		margin: 0 auto;
		padding: 2rem 1rem;
	}
	.gallery h2 {
		font-size: 2.5rem;
		font-weight: 700;
		margin-bottom: 0.5rem;
		text-align: center;
		color: rgb(var(--accent-light));
	}
	.gallery-intro {
		text-align: center;
		margin-bottom: 1.5rem;
		font-size: 1.1rem;
		color: rgb(var(--accent-light));
	}
	.gallery-grid {
		display: grid;
		grid-template-columns: repeat(5, 1fr);
		gap: 1rem;
	}
	.gallery-item {
		position: relative;
		overflow: hidden;
		cursor: pointer;
	}
	.gallery-item img {
		width: 100%;
		height: auto;
		object-fit: cover;
		aspect-ratio: 1 / 1;
	}
	@media (max-width: 1200px) {
		.gallery-grid {
			grid-template-columns: repeat(3, 1fr);
		}
	}
	@media (max-width: 768px) {
		.gallery-grid {
			display: flex;
			overflow-x: auto;
			scroll-snap-type: x mandatory;
			-webkit-overflow-scrolling: touch;
			scroll-behavior: smooth;
			gap: 0.5rem;
		}
		.gallery-item {
			flex: 0 0 calc(50% - 0.25rem);
			scroll-snap-align: start;
		}
	}
	@media (max-width: 480px) {
		.gallery-grid {
			gap: 0.25rem;
		}
		.gallery-item {
			flex: 0 0 calc(50% - 0.125rem);
		}
	}
	@media (max-width: 768px) {
		.hero {
			height: 30vh; /* Reduced from 40vh to 30vh */
		}
		h1 {
			font-size: 2rem;
		}
		.link-card-grid {
			grid-template-columns: 1fr;
		}
		.link-card-grid :global(.card-body) {
			font-size: 0.9rem;
		}
		.glide__slide {
			height: auto;
		}
		.callout {
			padding: 2rem 1rem;
		}
		.callout h2 {
			font-size: 2rem;
		}
		.glide__arrows {
			left: 10px;
			right: 10px;
		}
		.glide__arrow--left {
			left: 0;
		}
		.glide__arrow--right {
			right: 0;
		}
		.hero, .services, .reviews, .gallery, .callout {
			padding-top: 1rem;
			padding-bottom: 1rem;
		}
		.tagline {
			font-size: 1rem; /* Further reduced for mobile */
		}
	}
</style>